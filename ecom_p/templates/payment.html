{% extends "layouts/main.html" %}
{% load static %}
{% block content %}
<style>
.payment-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.card0 {
	margin: 40px 12px 15px 12px;
	border: 1px solid #ddd;
	box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
	border-radius: 10px;
	padding: 20px;
	background-color: white;
}

#heading2 {
	font-size: 27px;
	text-align: center;
}

#success-heading {
    color: #28a745;
}

#failure-heading {
    color: #D50000;
}

.form-card input,
.form-card textarea {
    padding: 10px 8px;
    border: 1px solid lightgrey;
    border-radius: 4px;
    margin-bottom: 20px;
    margin-top: 2px;
    width: 100%;
    font-family: montserrat;
    color: #2C3E50;
    font-size: 14px;
}

.form-card input:focus,
.form-card textarea:focus {
    border: 1px solid gray;
    outline-width: 0;
}

.radio-group {
    display: flex;
    gap: 20px;
    justify-content: center;
}

.radio {
    display: inline-block;
    width: 200px;
    height: 60px;
    cursor: pointer;
}

.radio img {
    width: 100%;
    height: 100%;
}

.radio.selected {
    border: 2px solid #28a745;
}
</style>

<div class="payment-container"> 
	<div class="col-md-10 col-lg-8">
		<div class="card card0 rounded-0">
			<div class="form-card">
                {% if status == 'success' %}
                    <h2 id="heading2" class="text-success" id="success-heading">Payment Successful!</h2>
                    <p>Your payment has been processed successfully. Thank you for your order!</p>
                    <p><strong>Order ID:</strong> {{ order_id }}</p>
                    <p>You'll receive a confirmation email shortly.</p>
                {% elif status == 'failed' %}
                    <h2 id="heading2" class="text-danger" id="failure-heading">Payment Failed</h2>
                    <p>Sorry, something went wrong with your payment.</p>
                    <p>Please try again or contact customer support.</p>
                {% else %}
                    <h2 id="heading2" class="text-danger">Make Payment</h2>
                    <div class="radio-group">
                        <div class="radio" id="credit-radio" data-value="credit">
                            <img src="https://i.imgur.com/28akQFX.jpg" alt="Credit Card">
                        </div>
                        <div class="radio" id="paypal-radio" data-value="paypal">
                            <img src="https://i.imgur.com/5QFsx7K.jpg" alt="PayPal">
                        </div>
                    </div>

                    <div id="card-info">
                        <label class="pay">Name on Card</label>
                        <input type="text" name="holdername" placeholder="Name">

                        <div class="row">
                            <div class="col-8 col-md-6">
                                <label class="pay">Card Number</label>
                                <input type="text" name="cardno" placeholder="0000-0000-0000-0000" minlength="19" maxlength="19">
                            </div>
                            <div class="col-4 col-md-6">
                                <label class="pay">CVV</label>
                                <input type="password" name="cvcpwd" placeholder="&#9679;&#9679;&#9679;" minlength="3" maxlength="3">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <label class="pay">Expiration Date</label>
                                <input type="text" name="exp" placeholder="MM/YY" minlength="5" maxlength="5">
                            </div>
                        </div>
                    </div>

                    <div id="paypal-info">
                        <label class="pay">PayPal Email</label>
                        <input type="email" name="paypal_email" placeholder="youremail@example.com">
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <input type="submit" value="MAKE A PAYMENT &nbsp; &#xf178;" class="btn btn-info placeicon">
                        </div>
                    </div>
                {% endif %}
            </div>
		</div>
	</div>
</div>

<script>
document.getElementById('credit-radio').addEventListener('click', function() {
    document.getElementById('card-info').style.display = 'block';
    document.getElementById('paypal-info').style.display = 'none';
    document.getElementById('credit-radio').classList.add('selected');
    document.getElementById('paypal-radio').classList.remove('selected');
});

document.getElementById('paypal-radio').addEventListener('click', function() {
    document.getElementById('card-info').style.display = 'none';
    document.getElementById('paypal-info').style.display = 'block';
    document.getElementById('paypal-radio').classList.add('selected');
    document.getElementById('credit-radio').classList.remove('selected');
});
</script>

{% endblock content %}
